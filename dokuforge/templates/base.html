{% macro button(action, label, params={}) -%}
<form action="{{ action|e }}" method="post" class="button">
	{%- for key, value in params.items() -%}
	<input type="hidden" name="{{ key|e }}" value="{{ value|e }}">
	{%- endfor -%}
	<input type="submit" name="submit" value="{{ label|e }}">
</form>
{%- endmacro -%}

{%- macro navbar(entries) -%}
Navigation: <a href="{{ buildurl("index")|e }}">Dokuforge</a>
{%- for (point, args, title) in entries -%}
{%- if url == '' -%}
{# comment to protect space #} &gt; {{ title|e}}
{%- else -%}
{# comment to protect space #} &gt; <a href="{{ buildurl(point, args)|e }}">{{ title|e }}</a>
{%- endif -%}
{%- endfor -%}
{%- endmacro -%}

{%- macro threeway(ok, default, success, errormessage, errorexplanation) -%}
{% if ok is none %}
{{ default|e }}
{% elif ok %}
{{ success|e }}
{% else %}
<span class=important>{{ errormessage|e }}</span><br>
{{ errorexplanation|e }}
{% endif %}
{%- endmacro -%}

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="de">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="stylesheet" type="text/css" href="{{ staticjoin("style.css")|e }}" media="all">
	<link rel="stylesheet" type="text/css" href="{{ staticjoin("print.css")|e }}" media="print">
	<title>Dokuforge2</title>
</head>
<body>
<div id="page">
{%- block header %}
 <div id="header">
   <h1 id="dokuforgetitle">Dokuforge</h1>
   <div id="userinformation">
   {%- if user is not none %}
       Hallo {{ user.name|e }}!
       {{ button(buildurl("logout"), "Logout") }}
   {%- else -%}
   <a href="{{ buildurl("start")|e }}">Login</a>
   {%- endif %}
   </div>
   <div id="headerlinks">
   {%- if user is not none %}
	{%- if user.isAdmin() %}
	<a href="{{ buildurl("admin")|e }}">Administration</a>
	{%- endif -%}
	{%- if user.isSuperAdmin() %}
	<a href="{{ buildurl("groups")|e }}">Gruppenverwaltung</a>
	{%- endif -%}
   {%- endif %}
   <a href="{{ buildurl("styleguide")|e }}">Style-Guide</a>
   </div>
   <div id="subheading">
   {%- block subheading %}Startseite{% endblock -%}
   </div>
   <div id="location">
   {%- block location %}{% endblock -%}
   </div>
 </div>
{% endblock -%}
<div id="content">
{%- block content %}
Dies sollte nicht sichtbar sein.
{% endblock %}
</div>
{%- block footer %}
   <div id="footer">
   	Kontakt: team (at) dokuforge.de<br><br>
   	Dokuforge â€“ Ein Projekt des CdE e.V.
   </div>
{% endblock -%}
</div>
</body>
</html>
{# vim:syntax=jinja
#}
